option_settings:
  aws:elbv2:listener:443:
    Protocol: HTTPS
    SSLCertificateArns: arn:aws:acm:ap-northeast-2:194722442915:certificate/bea80aee-eb00-42e0-94f7-d8302f74022d
  aws:elbv2:listener:80:
    Protocol: HTTP

# HTTP to HTTPS 리다이렉트
Resources:
  HTTPSRedirectRule:
    Type: AWS::ElasticLoadBalancingV2::ListenerRule
    Properties:
      Actions:
        - Type: redirect
          RedirectConfig:
            Protocol: HTTPS
            Port: 443
            StatusCode: HTTP_301
      Conditions:
        - Field: host-header
          Values:
            - serenade.primadonnadev.site
      ListenerArn:
        Ref: AWSEBV2LoadBalancerListener
      Priority: 1